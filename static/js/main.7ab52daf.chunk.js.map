{"version":3,"sources":["components/TransactionHistory/TransactionHistory.module.css","services/localStorage.js","components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","index.js","components/Controls/Controls.module.css","components/Balance/Balance.module.css"],"names":["module","exports","save","key","value","localStorage","setItem","JSON","stringify","err","console","log","get","transactions","getItem","balance","parsedTransactions","parse","error","Controls","state","amount","handleChange","e","target","setState","reset","handleDeposit","props","onDeposit","handleWithdraw","onWithdraw","this","className","styles","wrapper","type","name","onChange","input","buttons","onClick","Component","Balance","income","expenses","TransactionHistory","items","table","thead","map","item","shortid","generate","tr","tbody","date","Dashboard","newStateTransaction","id","Number","Date","toLocaleString","toast","warn","position","POSITION","BOTTOM_RIGHT","success","handleSumTransaction","reduce","acc","transaction","deposit","withdraw","storage","prevProps","prevState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7ab52daf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"TransactionHistory_table__du9aC\",\"thead\":\"TransactionHistory_thead__1BjLg\",\"tbody\":\"TransactionHistory_tbody__YR5YI\"};","export const save = (key, value) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const get = key => {\n  try {\n    const transactions = localStorage.getItem(key);\n    const balance = localStorage.getItem(key);\n    const parsedTransactions = JSON.parse(transactions, balance);\n\n    return transactions ? parsedTransactions : null;\n  } catch (error) {\n    console.log(error);\n  }\n};\n","// Core\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n// styles\nimport styles from './Controls.module.css';\n\nclass Controls extends Component {\n  static propTypes = {\n    onDeposit: PropTypes.func.isRequired,\n    onWithdraw: PropTypes.func.isRequired,\n  };\n\n  state = {\n    amount: '',\n  };\n\n  handleChange = e => {\n    const amount = e.target.value;\n    this.setState({ amount });\n  };\n\n  reset = () => {\n    this.setState({\n      amount: '',\n    });\n  };\n\n  handleDeposit = () => {\n    this.props.onDeposit(this.state.amount);\n    this.reset();\n  };\n\n  handleWithdraw = () => {\n    this.props.onWithdraw(this.state.amount);\n    this.reset();\n  };\n\n  render() {\n    const { amount } = this.state;\n    return (\n      <section className={styles.wrapper}>\n        <input\n          type=\"number\"\n          name=\"amount\"\n          value={amount}\n          onChange={this.handleChange}\n          className={styles.input}\n        />\n        <button\n          className={styles.buttons}\n          type=\"button\"\n          onClick={this.handleDeposit}\n        >\n          Deposit\n        </button>\n        <button\n          className={styles.buttons}\n          type=\"button\"\n          onClick={this.handleWithdraw}\n        >\n          Withdraw\n        </button>\n      </section>\n    );\n  }\n}\n\nexport default Controls;\n","// Core\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// styles\nimport styles from './Balance.module.css';\n\nconst Balance = ({ balance, income, expenses }) => (\n  <section className={styles.wrapper}>\n    <span className={styles.income}>+ {income} </span>\n    <span className={styles.expenses}> - {expenses}</span>\n    <span className={styles.balance}>Balance: {balance}$</span>\n  </section>\n);\n\nBalance.propTypes = {\n  balance: PropTypes.number.isRequired,\n  income: PropTypes.number.isRequired,\n  expenses: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","// core\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport shortid from 'shortid';\n\n// styles\nimport styles from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ items }) => (\n  <table className={styles.table}>\n    <thead>\n      <tr>\n        <th className={styles.thead}>Type</th>\n        <th className={styles.thead}>Amount</th>\n        <th className={styles.thead}>Date</th>\n      </tr>\n    </thead>\n\n    <tbody>\n      {items.map(item => (\n        <tr key={shortid.generate()} className={styles.tr}>\n          <td className={styles.tbody}>{item.type}</td>\n          <td className={styles.tbody}>{item.amount}$</td>\n          <td className={styles.tbody}>{item.date}</td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n);\n\nTransactionHistory.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      amount: PropTypes.number.isRequired,\n      date: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","// Core\nimport React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport shortid from 'shortid';\n\n// services\nimport * as storage from '../../services/localStorage';\n\n// Components\nimport Controls from '../Controls';\nimport Balance from '../Balance';\nimport TransactionHistory from '../TransactionHistory';\n\nclass Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: 0,\n  };\n\n  componentDidMount() {\n    const transactions = storage.get('transactions');\n    const balance = storage.get('balance');\n\n    if (transactions) {\n      this.setState({\n        transactions,\n        balance,\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { transactions, balance } = this.state;\n    if (prevState.transactions !== transactions) {\n      storage.save('transactions', transactions);\n      storage.save('balance', balance);\n    }\n  }\n\n  handleDeposit = amount => {\n    const newStateTransaction = {\n      id: shortid.generate(),\n      type: 'deposit',\n      amount: Number(amount),\n      date: new Date().toLocaleString(),\n    };\n    if (Number(amount) <= 0 || amount === null) {\n      toast.warn('Введите сумму для проведения операции!', {\n        position: toast.POSITION.BOTTOM_RIGHT,\n      });\n    } else {\n      this.setState(state => ({\n        transactions: [...state.transactions, newStateTransaction],\n        balance: Number(state.balance) + Number(amount),\n      }));\n      toast.success('Транзакция была успешно проведена!', {\n        position: toast.POSITION.BOTTOM_RIGHT,\n      });\n    }\n  };\n\n  handleWithdraw = amount => {\n    const newStateTransaction = {\n      id: shortid.generate(),\n      type: 'withdraw',\n      amount: Number(amount),\n      date: new Date().toLocaleString(),\n    };\n    if (Number(amount) > this.state.balance) {\n      toast.error('На счету недостаточно средств для проведения операции!', {\n        position: toast.POSITION.BOTTOM_RIGHT,\n      });\n    } else if (amount <= 0 || amount === null) {\n      toast.warn('Введите сумму для проведения операции!', {\n        position: toast.POSITION.BOTTOM_RIGHT,\n      });\n    } else {\n      this.setState(state => ({\n        transactions: [...state.transactions, newStateTransaction],\n        balance: Number(state.balance) - Number(amount),\n      }));\n      toast.success('Транзакция была успешно проведена!', {\n        position: toast.POSITION.BOTTOM_RIGHT,\n      });\n    }\n  };\n\n  handleSumTransaction = type => {\n    return this.state.transactions.reduce(\n      (acc, transaction) => {\n        return {\n          ...acc,\n          [transaction.type]: acc[transaction.type] + transaction.amount,\n        };\n      },\n      { deposit: 0, withdraw: 0 },\n    );\n  };\n\n  render() {\n    const { balance, transactions } = this.state;\n    const { deposit, withdraw } = this.handleSumTransaction();\n\n    return (\n      <div>\n        <Controls\n          onDeposit={this.handleDeposit}\n          onWithdraw={this.handleWithdraw}\n        />\n        <Balance balance={balance} income={deposit} expenses={withdraw} />\n        <TransactionHistory items={transactions} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Dashboard from './components/Dashboard';\n\nReactDOM.render(<Dashboard />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Controls_wrapper__2B3eq\",\"input\":\"Controls_input__3B2jH\",\"buttons\":\"Controls_buttons__37B9N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Balance_wrapper__DSu71\",\"span\":\"Balance_span__1MVoL\",\"income\":\"Balance_income__55T_- Balance_span__1MVoL\",\"expenses\":\"Balance_expenses__2h23Y Balance_span__1MVoL\"};"],"sourceRoot":""}